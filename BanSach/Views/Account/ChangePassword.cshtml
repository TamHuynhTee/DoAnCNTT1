
@{
    ViewBag.Title = "ChangePassword";
    Layout = "~/Views/Shared/_Layout_Account_Actions.cshtml";
}

<div class="main">
    <h2>Enter new password</h2>
    <form action="/Account/ChangePassword" method="post">
        @Html.AntiForgeryToken()
        <label class="error">@Html.ValidationMessage("Invalid")</label>
        <div class="input">
            <input class="form-control" id="Username" name="username" value="@ViewBag.username">
            <label>Enter your current password</label>
            <input type="password" name="password" placeholder="Password" class="form-control"/>
            <label>New password</label>
            <input type="password" name="new_pass" placeholder="New Password" class="form-control" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$" oninvalid="this.setCustomValidity('Minimum eight characters, at least one uppercase letter, one lowercase letter and one number.')" oninput="setCustomValidity('')" />
            <label>Confirm new password</label>
            <input type="password" name="confirm" placeholder="Confirm Password" class="form-control" required oninvalid="this.setCustomValidity('Confirm new password required')" oninput="setCustomValidity('')" />
            <div class="form-btn">
                <input type="button" value="Back" id="back" class="btn btn-primary" onclick="location.href = '@Url.Action("_Profile", "Account", new { username = ViewBag.username})'" />
                <input type="submit" value="Change" id="submit" class="btn btn-success" />
            </div>
        </div>
    </form>
</div>

<style>
    #Username {
        color: blue;
        text-align: center;
        font-weight: bold;
        border: none;
        background-color: transparent;
        pointer-events: none;
    }
</style>